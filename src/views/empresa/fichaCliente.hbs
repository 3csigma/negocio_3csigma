<div id="preloader">
	<div data-loader="circle-side"></div>
</div><!-- /Preload -->

<div id="loader_form">
	<div data-loader="circle-side-2"></div>
</div><!-- /loader_form -->

	<style>
		.duet-date__input {
			height: 44px;
			border: 1px solid #ddd;
		}

		.close {
			position: absolute;
			right: 32px;
			top: 32px;
			width: 45px;
			height: 45px;
			opacity: 0.5;
			border-radius: 30px;
			background-color: #ccc;
		}

		.close:hover {
			opacity: 1;
		}

		.close:before,
		.close:after {
			position: absolute;
			top: 10.5px;
			left: 22px;
			content: ' ';
			height: 24px;
			width: 2px;
			background-color: #000;
		}

		.close:before {
			transform: rotate(45deg);
		}

		.close:after {
			transform: rotate(-45deg);
		}
	</style>

	<div class="container-fluid">
		<div class="row row-height">
			<div class="col-xl-4 col-lg-4 content-left">
				<div class="content-left-wrapper">
					<a href="#" id="logo"><img src="./img/3C-Sigma-White.svg" alt="Logo 3CSigma" width="75"
							height="75"></a>
					<div id="social">
						<ul>
							<li><a href="#0"><i class="fab fa-facebook-f"></i></a></li>
							<li><a href="#0"><i class="fab fa-twitter"></i></a></li>
							<li><a href="#0"><i class="fab fa-instagram"></i></a></li>
							<li><a href="#0"><i class="fab fa-linkedin-in"></i></a></li>
						</ul>
					</div>
					<!-- /social -->
					<div>
						<figure><img src="./img/info_graphic_1.svg" alt="" class="img-fluid" width="270" height="270">
						</figure>
						<h2>Ficha Cliente</h2>
						<p>Estos datos nos permiten conocerte y a tu empresa, para tener datos reales sobre el estado
							actual
							de la misma, y encontrar los puntos a mejorar para empezar juntos el proceso de crecimiento
							corporativo.</p>
						<a href="https://wa.me/+17863548822" target="_blank" class="btn_1 rounded yellow my-auto">
							<i class="fab fa-whatsapp" style="font-size:19px"></i> ¿Tienes dudas?
						</a>
						{{!-- <a href="#start" class="btn_1 rounded mobile_btn yellow">xxxxxxx</a> --}}
					</div>
					<div class="copy">© 2022 3C Sigma</div>
				</div>
				<!-- /content-left-wrapper -->
			</div>
			<!-- /content-left -->
			<div class="col-xl-8 col-lg-8 content-right" id="start">
				<div id="wizard_container">
					<div id="top-wizard">
						<span id="location"></span>
						<div id="progressbar"></div>
					</div>
					<!-- /top-wizard -->
					<form id="wrapped" method="POST">
						<input id="website" name="website" type="text" value="">
						<!-- Leave for security protection, read docs for details -->
						<div id="middle-wizard">
							<!-- Paso 1 DATOS PERSONALES -->
							<div class="step">
								<h2 class="section_title">DATOS PERSONALES</h2>
								{{!-- <h3 class="main_question">Personal info</h3> --}}
								<div class="row add_top_10">
									<div class="form-group col-md-6 ">
										<label for="name">Nombres</label>
										<input type="text" name="nombre" id="name" value="{{ficha.nombre}}"
											class="form-control required" onchange="getVals(this, 'name_field');">
									</div>
									<div class="form-group col-md-6">
										<label for="apellido">Apellido</label>
										<input type="text" name="apellido" id="apellido" value="{{ficha.apellido}}"
											class="form-control required" onchange="getVals(this, 'apellido_field');">
									</div>
								</div>
								<!-- /Fila Grupo de campos -->
								<div class="row add_top_10">
									<div class="form-group col-md-6 ">
										<label for="email">Email</label>
										<input type="email" name="email" id="email" value="{{ficha.email}}"
											class="form-control required" onchange="getVals(this, 'email_field');">
									</div>
									<div class="form-group col-md-6">
										<label for="tel_Ficha">Teléfono</label>
										<input type="text" name="telefono" value="{{ficha.telefono}}" id="tel_Ficha"
											class="form-control required">
									</div>
								</div>
								<!-- /Fila Grupo de campos -->
								<div class="row add_top_10">
									<div class="form-group col-md-6 ">
										{{!-- <label for="fecha_nacimiento">Fecha de Nacimiento</label> --}}
										<duet-date-picker first-day-of-week="0" identifier="date"
											name="fecha_nacimiento" id="fecha_nacimiento" min="1932-05-02"
											max="2004-05-02"></duet-date-picker>
									</div>
									<div class="form-group col-md-6">
										<label for="pais">País/Nacionalidad</label>
										<input type="text" name="pais" id="pais" value="{{ficha.pais}}"
											class="form-control required">
									</div>
								</div>
								<!-- /Fila Grupo de campos -->
								<div class="row add_top_10">
									<div class="form-group col-md-12">
										<label class="mb-2">Redes Sociales</label>
										<label for="twitter">Twitter</label>
										<input type="text" name="twitter" id="twitter"
											value="{{datos.redes_sociales.twitter}}" class="form-control mb-2"
											onchange="getVals(this, 'twitter_field');">
										<label for="facebook">Facebook</label>
										<input type="text" name="facebook" id="facebook"
											value="{{datos.redes_sociales.facebook}}" class="form-control mb-2"
											onchange="getVals(this, 'twitter_field');">
										<label for="instagram">Instagram</label>
										<input type="text" name="instagram" id="instagram"
											value="{{datos.redes_sociales.instagram}}" class="form-control mb-2"
											onchange="getVals(this, 'instagram_field');">
										<label for="otra">Otra</label>
										<input type="text" name="otra" id="otra" value="{{datos.redes_sociales.otra}}"
											class="form-control mb-2" onchange="getVals(this, 'otra_field');">
									</div>
								</div>

								<!-- /Fila Grupo de campos -->
							</div>
							<!-- /Paso 1 -->

							<!-- Paso 2 SOBRE LA EMPRESA ============================== -->
							<div class="step">
								<h2 class="section_title">SOBRE LA EMPRESA</h2>
								<div class="row add_top_10">
									<div class="form-group col-md-6 ">
										<label>¿Eres dueño de negocio?</label>
										<div class="form-group mb-3 radio_input">
											<label class="container_radio mr-3">Si
												<input type="radio" name="es_propietario" value="Si" class="required"
													{{datos.prop1}}>
												<span class="checkmark"></span>
											</label>
											<label class="container_radio">No
												<input type="radio" name="es_propietario" value="No" class="required"
													{{datos.prop2}}>
												<span class="checkmark"></span>
											</label>
										</div>
									</div>
									<div class="form-group col-md-6">
										<label>¿Tienes socios?</label>
										<div class="form-group mb-3 radio_input">
											<label class="container_radio mr-3">Si
												<input type="radio" name="socios" value="Si" class="required"
													{{datos.socio1}}>
												<span class="checkmark"></span>
											</label>
											<label class="container_radio">No
												<input type="radio" name="socios" value="No" class="required"
													{{datos.socio2}}>
												<span class="checkmark"></span>
											</label>
										</div>
									</div>
								</div>
								<!-- /Fila Grupo de campos -->
								<div class="row add_top_10">
									<div class="form-group col-md-6 ">
										<label for="nombre_empresa">Nombre de la empresa</label>
										<input type="text" name="nombre_empresa" id="nombre_empresa"
											value="{{ficha.nombre_empresa}}" class="form-control required"
											onchange="getVals(this, 'nombre_empresa_field');">
									</div>
									<div class="form-group col-md-6">
										<label for="cantidad_socios">Cantidad de socios</label>
										<input type="number" name="cantidad_socios" id="cantidad_socios"
											value="{{ficha.cantidad_socios}}" class="form-control "
											onchange="getVals(this, 'cantidad_socios_field');">
									</div>
								</div>
								<!-- /Fila Grupo de campos -->
								<div class="row add_top_10">
									<div class="form-group col-md-6 ">
										<label for="porcentaje_accionario">¿Cuál es tu % accionario?</label>
										<input type="text" name="porcentaje_accionario" id="porcentaje_accionario"
											value="{{ficha.porcentaje_accionario}}" class="form-control required"
											onchange="getVals(this, 'porcentaje_accionario_field');" maxlength="6"
											pattern="[0-9]+">
									</div>
									<div class="form-group col-md-6">
										<label for="tiempo_fundacion">Tiempo de fundacion</label>
										<input type="text" name="tiempo_fundacion" id="tiempo_fundacion"
											value="{{ficha.tiempo_fundacion}}" class="form-control "
											onchange="getVals(this, 'tiempo_fundacion_field');">
									</div>
								</div>
								<!-- /Fila Grupo de campos -->
								<div class="row add_top_10">
									<div class="form-group col-md-6 ">
										<label for="tiempo_experiencia">Años de experiencia</label>
										<input type="number" name="tiempo_experiencia" id="tiempo_experiencia"
											value="{{ficha.tiempo_experiencia}}" class="form-control required"
											onchange="getVals(this, 'tiempo_experiencia_field');" min="0">
									</div>
									<div class="form-group col-md-6">
										<label for="promedio_ingreso_anual">Promedio de ingreso anual*</label>
										<input type="text" name="promedio_ingreso_anual" id="promedio_ingreso_anual"
											value="{{ficha.promedio_ingreso_anual}}" class="form-control "
											onchange="getVals(this, 'promedio_ingreso_anual_field');">
									</div>
								</div>
								<!-- /Fila Grupo de campos -->
								<div class="row add_top_10">
									<div class="form-group col-md-6 ">
										<label for="num_empleados">Número de empleados</label>
										<input type="number" name="num_empleados" id="num_empleados"
											value="{{ficha.num_empleados}}" class="form-control required"
											onchange="getVals(this, 'num_empleados_field');" min="1">
									</div>
									<div class="form-group col-md-6">
										<label for="page_web">Página Web</label>
										<input type="text" name="page_web" id="page_web" value="{{ficha.page_web}}"
											class="form-control " onchange="getVals(this, 'page_web_field');">
									</div>
								</div>
								<!-- /Fila Grupo de campos -->
							</div>
							<!-- /Paso 2 -->

							<!-- Paso 3 DESCRIPCIÓN DE TU NEGOCIO -->
							<div class="step">
								<h2 class="section_title">DESCRIPCIÓN DE TU NEGOCIO</h2>
								<div class="row add_top_10">
									<div class="form-group col-md-12">
										<label for="descripcion">¿Qué hace tu negocio?</label>
										<textarea name="descripcion" id="descripcion" class="form-control required"
											style="height: 115px; min-height: 110px;">{{ficha.descripcion}}</textarea>
									</div>
								</div>
								<!-- /Fila Grupo de campos -->
								<div class="row add_top_10">
									<div class="form-group col-md-12">
										<label>¿En qué etapa se encuentra tu negocio?</label>
										<div class="form-group mb-3 radio_input">
											<label class="container_radio mr-3">En Proyecto
												<input type="radio" name="etapa_actual" value="En Proyecto"
													class="required" {{datos.etapa1}}>
												<span class="checkmark"></span>
											</label>
											<label class="container_radio">Operativo
												<input type="radio" name="etapa_actual" value="Operativo"
													class="required" {{datos.etapa2}}>
												<span class="checkmark"></span>
											</label>
											<label class="container_radio">En expansión
												<input type="radio" name="etapa_actual" value="En expansión"
													class="required" {{datos.etapa3}}>
												<span class="checkmark"></span>
											</label>
											<label class="container_radio">Otro
												<input type="radio" name="etapa_actual" value="Otro" class="required"
													{{datos.etapa4}}>
												<span class="checkmark"></span>
											</label>
										</div>
									</div>
								</div>

								<!-- Campos Objetivos -->
								<div class="row add_top_10">
									<div class="form-group col-md-12">
										<label>¿Cuáles son los 3 principales objetivos de tu negocio?</label>

										<label for="objetivo1">1-</label>
										<input type="text" name="objetivo1" id="objetivo1"
											value="{{datos.objetivos.objetivo1}}" class="form-control mb-2 required"
											onchange="getVals(this, 'objetivo1_field');" placeholder="1-">

										<label for="objetivo2">2-</label>
										<input type="text" name="objetivo2" id="objetivo2"
											value="{{datos.objetivos.objetivo2}}" class="form-control mb-2 required"
											onchange="getVals(this, 'objetivo2_field');" placeholder="2-">

										<label for="objetivo3">3-</label>
										<input type="text" name="objetivo3" id="objetivo3"
											value="{{datos.objetivos.objetivo3}}" class="form-control mb-2 required"
											onchange="getVals(this, 'objetivo3_field');" placeholder="3-">
									</div>
								</div>
								<!-- /Fin de Campos Objetivos -->

							</div>
							<!-- /Paso 3 -->

							<!-- Paso 4 MOTIVO DE CONSULTORÍA -->
							<div class="step">
								<!-- Fortalezas de tu negocio -->
								<div class="row add_top_10">
									<div class="form-group col-md-12">
										<label>¿Cuáles son las 3 principales fortalezas de tu negocio?</label>

										<label for="fortaleza1">1-</label>
										<input type="text" name="fortaleza1" id="fortaleza1"
											value="{{datos.fortalezas.fortaleza1}}" class="form-control mb-2 required"
											onchange="getVals(this, 'fortaleza1_field');">

										<label for="fortaleza2">2-</label>
										<input type="text" name="fortaleza2" id="fortaleza2"
											value="{{datos.fortalezas.fortaleza2}}" class="form-control mb-2 required"
											onchange="getVals(this, 'fortaleza2_field');">

										<label for="fortaleza3">3-</label>
										<input type="text" name="fortaleza3" id="fortaleza3"
											value="{{datos.fortalezas.fortaleza3}}" class="form-control mb-2 required"
											onchange="getVals(this, 'fortaleza3_field');">
									</div>
								</div>
								<!-- /Fin Fortalezas Grupo de campos -->

								<!-- Problemas de tu negocio -->
								<div class="row add_top_10">
									<div class="form-group col-md-12">
										<label>¿Cuáles son los 3 principales problemas de tu negocio?</label>

										<label for="problema1">1-</label>
										<input type="text" name="problema1" id="problema1"
											value="{{datos.problemas.problema1}}" class="form-control mb-2 required"
											onchange="getVals(this, 'problema1_field');">

										<label for="problema2">2-</label>
										<input type="text" name="problema2" id="problema2"
											value="{{datos.problemas.problema2}}" class="form-control mb-2 required"
											onchange="getVals(this, 'problema2_field');">

										<label for="problema3">3-</label>
										<input type="text" name="problema3" id="problema3"
											value="{{datos.problemas.problema3}}" class="form-control mb-2 required"
											onchange="getVals(this, 'problema3_field');">
									</div>
								</div>
								<!-- /Fin Problemas Grupo de campos -->

								<div class="row add_top_10">
									<div class="form-group col-md-12">
										<label for="motivo_consultoria">¿Cuál es el motivo por el que requiere esta
											consultoría de negocio?</label>
										<textarea name="motivo_consultoria" id="motivo_consultoria"
											class="form-control required"
											style="height: 115px; min-height: 110px; padding-top: 1.3em;">{{ficha.motivo_consultoria}}</textarea>
									</div>
								</div>
								<!-- /Fila Grupo de campos -->
							</div>

							<!-- Último Paso ============================== -->
							<div class="submit step" id="end">
								<div class="summary">
									<div class="wrapper">
										<h3>Gracias por su tiempo<br>
											{{#if ficha.nombre}}
											{{ficha.nombre}}!
											{{else}}
											<span id="name_field"></span>!
											{{/if}}
										</h3>
										<p>Al guardar los datos será redirigido al panel de diagnóstico de negocio</p>
										{{!-- <p>We will contat you shorly at the following email address <strong
												id="email_field"></strong></p> --}}
									</div>

									{{!-- Abrir modal terms --}}
									{{!-- <div class="text-center">
										<div class="form-group terms">
											<label class="container_check">Por favor acepta nuestros <a href="#"
													data-toggle="modal" data-target="#terms-txt">Terminos y
													condiciones</a>
												antes de Enviar
												<input type="checkbox" name="terms" value="Si" class="required">
												<span class="checkmark"></span>
											</label>
										</div>
									</div> --}}


								</div>
							</div>
							<!-- /Último Paso-->

						</div>
						<!-- /middle-wizard -->
						<div id="bottom-wizard">
							{{!-- <a class="btn btn-danger" href="#">Limpiar campos</a> --}}
							<button type="button" name="backward" class="backward">Anterior</button>
							<button type="button" name="forward" class="forward">Siguiente</button>
							<button type="submit" name="process" class="submit">Guardar Datos</button>
						</div>
						<!-- /bottom-wizard -->
					</form>
				</div>
				<!-- /Wizard container -->
			</div>
			<!-- /content-right-->
		</div>
		<!-- /row-->
	</div>
	<!-- /container-fluid -->

	<a href="/diagnostico-de-negocio" class="close">


	{{!-- SCRIPT MASCARAS PARA INPUT --}}
	<script src="https://unpkg.com/imask"></script>

	<script>
		// Formato de número USA (+1)
		document.addEventListener("DOMContentLoaded", function () {
			IMask(document.getElementById('tel_Ficha'), {
				mask: '+{1} (000) 000-0000'
			});
		});

		// Separación para cifras en millares
		IMask(document.getElementById('promedio_ingreso_anual'), {
			mask: '$num',
			blocks: {
				num: {
					// nested masks are available!
					mask: Number,
					thousandsSeparator: ' '
				}
			}
		});

		// Formateando campo para porcentaje
		document.querySelector('#porcentaje_accionario').addEventListener('input', function (e) {
			let int = e.target.value.slice(0, e.target.value.length - 1);

			if (int.includes('%')) {
				e.target.value = '%';
			} else if (int == 100 && !int.includes('.')) {
				e.target.value = int + '%';
			} else if (int.length >= 3 && int.length <= 4 && !int.includes('.')) {
				e.target.value = int.slice(0, 2) + '.' + int.slice(2, 3) + '%';
				e.target.setSelectionRange(4, 4);
			} else if (int.length >= 5 & int.length <= 6) {
				let whole = int.slice(0, 2);
				let fraction = int.slice(3, 5);
				e.target.value = whole + '.' + fraction + '%';
			} else {
				e.target.value = int + '%';
				e.target.setSelectionRange(e.target.value.length - 1, e.target.value.length - 1);
			}
		});


		// CAMPO DATE PICKER (DUET LIBRARY)
		const picker = document.querySelector("duet-date-picker")
		const DATE_FORMAT_US = /^(\d{1,2})\/(\d{1,2})\/(\d{4})$/

		picker.dateAdapter = {
			parse(value = "", createDate) {
				const matches = value.match(DATE_FORMAT_US)

				if (matches) {
					return createDate(matches[3], matches[1], matches[2])
				}
			},
			format(date) {
				return `${date.getMonth() + 1}/${date.getDate()}/${date.getFullYear()}`
			},
		}

		picker.localization = {
			buttonLabel: "Fecha de Nacimiento",
			placeholder: "Fecha de Nacimiento",
			selectedDateMessage: "La fecha seleccionada es",
			prevMonthLabel: "Mes anterior",
			nextMonthLabel: "Mes siguiente",
			monthSelectLabel: "Mes",
			yearSelectLabel: "Año",
			closeLabel: "Cerrar ventana",
			calendarHeading: "Selecciona una fecha",
			dayNames: ["Domingo", "Lunes", "Martes", "Miércoles", "Jueves", "Viernes", "Sábado"],
			monthNames: ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"],
			monthNamesShort: ["Ene", "Feb", "Mar", "Abr", "May", "Jun", "Jul", "Ago", "Sep", "Oct", "Nov", "Dic"],
			locale: "en-US",
		}

	</script>