<script>
    (function () {

        const dzChartlist = function () {

            // NÃšMERO DE EMPRESAS ðŸ‘Œ ============|
            const chartBar = function () {
                    let valoresE = []   // => Valores historial empresas
                    const datosY = []  // => Datos para la barras de la grafica
                    const datosX = [] // => Datos para el eje X (los meses)
                    valoresE = $('#datosJson_historialE_adm').val();
                    console.log(valoresE)
                    if (valoresE) {
                        valoresE = JSON.parse(valoresE);
                        console.log(valoresE)
                        valoresE.forEach(e => {
                        datosY.push(e.num_empresas)
                        datosX.push(e.mes)
                        })
                    }
                var optionsArea = {
                    series: [{
                        name: "Nuevas Empresas",
                        data: datosY
                    }
                    ],
                    chart: {
                        height: 400,
                        type: 'area',
                        group: 'social',
                        toolbar: {
                            show: false
                        },
                        zoom: {
                            enabled: false
                        },
                    },
                    dataLabels: {
                        enabled: false
                    },
                    stroke: {
                        width: [4],
                        colors: ['#FED061'],
                        curve: 'smooth'
                    },
                    legend: {
                        show: false,
                        tooltipHoverFormatter: function (val, opts) {
                            return val + ' - ' + opts.w.globals.series[opts.seriesIndex][opts.dataPointIndex] + ''
                        },
                        markers: {
                            fillColors: ['#000000'],
                            width: 19,
                            height: 19,
                            strokeWidth: 0,
                            radius: 19
                        }
                    },
                    markers: {
                        strokeWidth: [4],
                        strokeColors: ['#000000'],
                        border: 0,
                        colors: ['#fff'],
                        hover: {
                            size: 6,
                        }
                    },
                   xaxis: {
                         categories: datosX,
                          labels: {
                            style: {
                                colors: '#3E4954',
                                fontSize: '14px',
                                fontFamily: 'Poppins',
                                fontWeight: 100,

                            },
                        },
                    },
                    yaxis: {
                        labels: {
                            offsetX: -16,
                            style: {
                                colors: '#3E4954',
                                fontSize: '14px',
                                fontFamily: 'Poppins',
                                fontWeight: 100,

                            },
                              formatter: function (y) {
                         return y.toFixed(0) + "";
                     },
                        },
                       
                    },
                    fill: {
                        colors: ['#000000'],
                        type: 'solid',
                        opacity: 0.7
                    },
                    colors: ['#000000'],
                    grid: {
                        borderColor: '#f1f1f1',
                        xaxis: {
                            lines: {
                                show: true
                            }
                        }
                    },
                    responsive: [{
                        breakpoint: 575,
                        options: {
                            chart: {
                                height: 250,
                            }
                        }
                    }]
                };
                var chartArea = new ApexCharts(document.querySelector("#chartBar"), optionsArea);
                chartArea.render();

            }

            // NÃšMERO DE CONSULTORES ðŸ‘Œ ============|
            const chartBar2 = function () {
                    let valoresC = []   // => Valores historial consultores
                    const datosY = []  // => Datos para la barras de la grafica
                    const datosX = [] // => Datos para el eje X (los meses)
                    valoresC = $('#datosJson_historialC_adm').val();
                    if (valoresC) {
                        valoresC = JSON.parse(valoresC);
                        console.log(valoresC)
                        valoresC.forEach(c => {
                        datosY.push(c.num_consultores)
                        datosX.push(c.mes)
                        })
                    }
                var optionsArea = {
                    series: [{
                        name: "Nuevos Consultores",
                        data: datosY
                    }
                    ],
                    chart: {
                        height: 400,
                        type: 'area',
                        group: 'social',
                        toolbar: {
                            show: false
                        },
                        zoom: {
                            enabled: false
                        },
                    },
                    dataLabels: {
                        enabled: false
                    },
                    stroke: {
                        width: [4],
                        colors: ['#000000'],
                        curve: 'smooth'
                    },
                    legend: {
                        show: false,
                        tooltipHoverFormatter: function (val, opts) {
                            return val + ' - ' + opts.w.globals.series[opts.seriesIndex][opts.dataPointIndex] + ''
                        },
                        markers: {
                            fillColors: ['#000000'],
                            width: 19,
                            height: 19,
                            strokeWidth: 0,
                            radius: 19
                        }
                    },
                    markers: {
                        strokeWidth: [4],
                        strokeColors: ['#000000'],
                        border: 0,
                        colors: ['#fff'],
                        hover: {
                            size: 6,
                        }
                    },
                    xaxis: {
                         categories: datosX,
                          labels: {
                            style: {
                                colors: '#3E4954',
                                fontSize: '14px',
                                fontFamily: 'Poppins',
                                fontWeight: 100,

                            },
                        },
                    },
                    yaxis: {
                        labels: {
                            offsetX: -16,
                            style: {
                                colors: '#3E4954',
                                fontSize: '14px',
                                fontFamily: 'Poppins',
                                fontWeight: 100,

                            },
                              formatter: function (y) {
                         return y.toFixed(0) + "";
                     },
                        },
                       
                    },
                    fill: {
                        colors: ['#000000'],
                        type: 'solid',
                        opacity: 0.7
                    },
                    colors: ['#000000'],
                    grid: {
                        borderColor: '#f1f1f1',
                        xaxis: {
                            lines: {
                                show: true
                            }
                        }
                    },
                    responsive: [{
                        breakpoint: 575,
                        options: {
                            chart: {
                                height: 250,
                            }
                        }
                    }]
                };
                var chartArea = new ApexCharts(document.querySelector("#chartBar2"), optionsArea);
                chartArea.render();

            }

            // NÃšMERO DE INFORMES ðŸ‘Œ ============|
            const chartBar3 = function () {
                    let valoresI = []   // => Valores historial informes
                    const datosY = []  // => Datos para la barras de la grafica
                    const datosX = [] // => Datos para el eje X (los meses)
                    valoresI = $('#datosJson_historialI_adm').val();
                    console.log(valoresI)
                    if (valoresI) {
                        valoresI = JSON.parse(valoresI);
                        console.log(valoresI)
                        valoresI.forEach(i => {
                        datosY.push(i.num_informes)
                        datosX.push(i.mes)
                        })
                    }

                var optionsArea = {
                    series: [{
                        name: "Informes generados",
                        data: datosY
                    }
                    ],
                    chart: {
                        height: 400,
                        type: 'area',
                        group: 'social',
                        toolbar: {
                            show: false
                        },
                        zoom: {
                            enabled: false
                        },
                    },
                    dataLabels: {
                        enabled: false
                    },
                    stroke: {
                        width: [4],
                        colors: ['#000000'],
                        curve: 'smooth'
                    },
                    legend: {
                        show: false,
                        tooltipHoverFormatter: function (val, opts) {
                            return val + ' - ' + opts.w.globals.series[opts.seriesIndex][opts.dataPointIndex] + ''
                        },
                        markers: {
                            fillColors: ['#000000'],
                            width: 19,
                            height: 19,
                            strokeWidth: 0,
                            radius: 19
                        }
                    },
                    markers: {
                        strokeWidth: [4],
                        strokeColors: ['#000000'],
                        border: 0,
                        colors: ['#fff'],
                        hover: {
                            size: 6,
                        }
                    },
                     xaxis: {
                         categories: datosX,
                          labels: {
                            style: {
                                colors: '#000000',
                                fontSize: '14px',
                                fontFamily: 'Poppins',
                                fontWeight: 100,
                            },
                        },
                    },
                    yaxis: {
                        labels: {
                            offsetX: -16,
                            style: {
                                colors: '#000000',
                                fontSize: '14px',
                                fontFamily: 'Poppins',
                                fontWeight: 100,

                            },
                            formatter: function (y) {
                                return y.toFixed(0) + "";
                            },
                        },
                    },
                    fill: {
                        colors: ['#000000'],
                        type: 'solid',
                        opacity: 0.7
                    },
                    colors: ['#000000'],
                    grid: {
                        borderColor: '#f1f1f1',
                        xaxis: {
                            lines: {
                                show: true
                            }
                        }
                    },
                    responsive: [{
                        breakpoint: 575,
                        options: {
                            chart: {
                                height: 250,
                            }
                        }
                    }]
                };
                var chartArea = new ApexCharts(document.querySelector("#chartBar3"), optionsArea);
                chartArea.render();

            }

            /* Function ============ */
            return {
                load: function () {
                    {{#if graficas1}}
                    chartBar();
                    chartBar2();
                    chartBar3();
                    {{/if}}
                },
            }

        } ();

        jQuery(window).on('load', function () {
			setTimeout(function () {
				dzChartlist.load();
			}, 1000);
		});

		$(document).ready(function () {
		});

	})();
</script>